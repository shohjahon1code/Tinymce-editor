import{r as C}from"./index-f1f749bf.js";import{p as e}from"./index-4d501b15.js";var E={},A={get exports(){return E},set exports(t){E=t}},S={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H=C,V=Symbol.for("react.element"),K=Symbol.for("react.fragment"),U=Object.prototype.hasOwnProperty,F=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z={key:!0,ref:!0,__self:!0,__source:!0};function P(t,r,o){var n,i={},a=null,u=null;o!==void 0&&(a=""+o),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(u=r.ref);for(n in r)U.call(r,n)&&!z.hasOwnProperty(n)&&(i[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)i[n]===void 0&&(i[n]=r[n]);return{$$typeof:V,type:t,key:a,ref:u,props:i,_owner:F.current}}S.Fragment=K;S.jsx=P;S.jsxs=P;(function(t){t.exports=S})(A);const on=E.jsx,an=E.jsxs;var O=globalThis&&globalThis.__assign||function(){return O=Object.assign||function(t){for(var r,o=1,n=arguments.length;o<n;o++){r=arguments[o];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},O.apply(this,arguments)},N={onActivate:e.func,onAddUndo:e.func,onBeforeAddUndo:e.func,onBeforeExecCommand:e.func,onBeforeGetContent:e.func,onBeforeRenderUI:e.func,onBeforeSetContent:e.func,onBeforePaste:e.func,onBlur:e.func,onChange:e.func,onClearUndos:e.func,onClick:e.func,onContextMenu:e.func,onCommentChange:e.func,onCopy:e.func,onCut:e.func,onDblclick:e.func,onDeactivate:e.func,onDirty:e.func,onDrag:e.func,onDragDrop:e.func,onDragEnd:e.func,onDragGesture:e.func,onDragOver:e.func,onDrop:e.func,onExecCommand:e.func,onFocus:e.func,onFocusIn:e.func,onFocusOut:e.func,onGetContent:e.func,onHide:e.func,onInit:e.func,onKeyDown:e.func,onKeyPress:e.func,onKeyUp:e.func,onLoadContent:e.func,onMouseDown:e.func,onMouseEnter:e.func,onMouseLeave:e.func,onMouseMove:e.func,onMouseOut:e.func,onMouseOver:e.func,onMouseUp:e.func,onNodeChange:e.func,onObjectResizeStart:e.func,onObjectResized:e.func,onObjectSelected:e.func,onPaste:e.func,onPostProcess:e.func,onPostRender:e.func,onPreProcess:e.func,onProgressState:e.func,onRedo:e.func,onRemove:e.func,onReset:e.func,onSaveContent:e.func,onSelectionChange:e.func,onSetAttrib:e.func,onSetContent:e.func,onShow:e.func,onSubmit:e.func,onUndo:e.func,onVisualAid:e.func,onSkinLoadError:e.func,onThemeLoadError:e.func,onModelLoadError:e.func,onPluginLoadError:e.func,onIconsLoadError:e.func,onLanguageLoadError:e.func,onScriptsLoad:e.func,onScriptsLoadError:e.func},$=O({apiKey:e.string,id:e.string,inline:e.bool,init:e.object,initialValue:e.string,onEditorChange:e.func,value:e.string,tagName:e.string,cloudChannel:e.string,plugins:e.oneOfType([e.string,e.array]),toolbar:e.oneOfType([e.string,e.array]),disabled:e.bool,textareaName:e.string,tinymceScriptSrc:e.oneOfType([e.string,e.arrayOf(e.string),e.arrayOf(e.shape({src:e.string,async:e.bool,defer:e.bool}))]),rollback:e.oneOfType([e.number,e.oneOf([!1])]),scriptLoading:e.shape({async:e.bool,defer:e.bool,delay:e.number})},N),k=function(t){return typeof t=="function"},I=function(t){return t in N},j=function(t){return t.substr(2)},G=function(t,r,o,n,i,a,u){var s=Object.keys(i).filter(I),c=Object.keys(a).filter(I),l=s.filter(function(f){return a[f]===void 0}),d=c.filter(function(f){return i[f]===void 0});l.forEach(function(f){var p=j(f),h=u[p];o(p,h),delete u[p]}),d.forEach(function(f){var p=n(t,f),h=j(f);u[h]=p,r(h,p)})},q=function(t,r,o,n,i){return G(i,t.on.bind(t),t.off.bind(t),function(a,u){return function(s){var c;return(c=a(u))===null||c===void 0?void 0:c(s,t)}},r,o,n)},D=0,M=function(t){var r=Date.now(),o=Math.floor(Math.random()*1e9);return D++,t+"_"+o+D+String(r)},B=function(t){return t!==null&&(t.tagName.toLowerCase()==="textarea"||t.tagName.toLowerCase()==="input")},R=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},J=function(t,r){return R(t).concat(R(r))},W=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Y=function(t){if(!("isConnected"in Node.prototype)){for(var r=t,o=t.parentNode;o!=null;)r=o,o=r.parentNode;return r===t.ownerDocument}return t.isConnected},x=function(t,r){t!==void 0&&(t.mode!=null&&typeof t.mode=="object"&&typeof t.mode.set=="function"?t.mode.set(r):t.setMode(r))},T=globalThis&&globalThis.__assign||function(){return T=Object.assign||function(t){for(var r,o=1,n=arguments.length;o<n;o++){r=arguments[o];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},T.apply(this,arguments)},Q=function(t,r,o){var n,i,a=t.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=r.id,a.src=r.src,a.async=(n=r.async)!==null&&n!==void 0?n:!1,a.defer=(i=r.defer)!==null&&i!==void 0?i:!1;var u=function(){a.removeEventListener("load",u),a.removeEventListener("error",s),o(r.src)},s=function(c){a.removeEventListener("load",u),a.removeEventListener("error",s),o(r.src,c)};a.addEventListener("load",u),a.addEventListener("error",s),t.head&&t.head.appendChild(a)},X=function(t){var r={},o=function(u,s){var c=r[u];c.done=!0,c.error=s;for(var l=0,d=c.handlers;l<d.length;l++){var f=d[l];f(u,s)}c.handlers=[]},n=function(u,s,c){var l=function(b){return c!==void 0?c(b):console.error(b)};if(u.length===0){l(new Error("At least one script must be provided"));return}for(var d=0,f=!1,p=function(b,L){f||(L?(f=!0,l(L)):++d===u.length&&s())},h=0,v=u;h<v.length;h++){var y=v[h],g=r[y.src];if(g)g.done?p(y.src,g.error):g.handlers.push(p);else{var m=M("tiny-");r[y.src]={id:m,src:y.src,done:!1,error:null,handlers:[p]},Q(t,T({id:m},y),o)}}},i=function(){for(var u,s=0,c=Object.values(r);s<c.length;s++){var l=c[s],d=t.getElementById(l.id);d!=null&&d.tagName==="SCRIPT"&&((u=d.parentNode)===null||u===void 0||u.removeChild(d))}r={}},a=function(){return t};return{loadScripts:n,deleteScripts:i,getDocument:a}},Z=function(){var t=[],r=function(i){var a=t.find(function(u){return u.getDocument()===i});return a===void 0&&(a=X(i),t.push(a)),a},o=function(i,a,u,s,c){var l=function(){return r(i).loadScripts(a,s,c)};u>0?setTimeout(l,u):l()},n=function(){for(var i=t.pop();i!=null;i=t.pop())i.deleteScripts()};return{loadList:o,reinitialize:n}},nn=Z(),w=function(t){var r=t;return r&&r.tinymce?r.tinymce:null},en=globalThis&&globalThis.__extends||function(){var t=function(r,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(r,o)};return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");t(r,o);function n(){this.constructor=r}r.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=globalThis&&globalThis.__assign||function(){return _=Object.assign||function(t){for(var r,o=1,n=arguments.length;o<n;o++){r=arguments[o];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_.apply(this,arguments)},sn=function(t){en(r,t);function r(o){var n=this,i,a,u;return n=t.call(this,o)||this,n.rollbackTimer=void 0,n.valueCursor=void 0,n.rollbackChange=function(){var s=n.editor,c=n.props.value;s&&c&&c!==n.currentContent&&s.undoManager.ignore(function(){if(s.setContent(c),n.valueCursor&&(!n.inline||s.hasFocus()))try{s.selection.moveToBookmark(n.valueCursor)}catch{}}),n.rollbackTimer=void 0},n.handleBeforeInput=function(s){if(n.props.value!==void 0&&n.props.value===n.currentContent&&n.editor&&(!n.inline||n.editor.hasFocus()))try{n.valueCursor=n.editor.selection.getBookmark(3)}catch{}},n.handleBeforeInputSpecial=function(s){(s.key==="Enter"||s.key==="Backspace"||s.key==="Delete")&&n.handleBeforeInput(s)},n.handleEditorChange=function(s){var c=n.editor;if(c&&c.initialized){var l=c.getContent();n.props.value!==void 0&&n.props.value!==l&&n.props.rollback!==!1&&(n.rollbackTimer||(n.rollbackTimer=window.setTimeout(n.rollbackChange,typeof n.props.rollback=="number"?n.props.rollback:200))),l!==n.currentContent&&(n.currentContent=l,k(n.props.onEditorChange)&&n.props.onEditorChange(l,c))}},n.handleEditorChangeSpecial=function(s){(s.key==="Backspace"||s.key==="Delete")&&n.handleEditorChange(s)},n.initialise=function(s){var c,l,d;s===void 0&&(s=0);var f=n.elementRef.current;if(f){if(!Y(f)){if(s===0)setTimeout(function(){return n.initialise(1)},1);else if(s<100)setTimeout(function(){return n.initialise(s+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var p=w(n.view);if(!p)throw new Error("tinymce should have been loaded into global scope");var h=_(_({},n.props.init),{selector:void 0,target:f,readonly:n.props.disabled,inline:n.inline,plugins:J((c=n.props.init)===null||c===void 0?void 0:c.plugins,n.props.plugins),toolbar:(l=n.props.toolbar)!==null&&l!==void 0?l:(d=n.props.init)===null||d===void 0?void 0:d.toolbar,setup:function(v){n.editor=v,n.bindHandlers({}),n.inline&&!B(f)&&v.once("PostRender",function(y){v.setContent(n.getInitialValue(),{no_events:!0})}),n.props.init&&k(n.props.init.setup)&&n.props.init.setup(v)},init_instance_callback:function(v){var y,g,m=n.getInitialValue();n.currentContent=(y=n.currentContent)!==null&&y!==void 0?y:v.getContent(),n.currentContent!==m&&(n.currentContent=m,v.setContent(m),v.undoManager.clear(),v.undoManager.add(),v.setDirty(!1));var b=(g=n.props.disabled)!==null&&g!==void 0?g:!1;x(n.editor,b?"readonly":"design"),n.props.init&&k(n.props.init.init_instance_callback)&&n.props.init.init_instance_callback(v)}});n.inline||(f.style.visibility=""),B(f)&&(f.value=n.getInitialValue()),p.init(h)}},n.id=n.props.id||M("tiny-react"),n.elementRef=C.createRef(),n.inline=(u=(i=n.props.inline)!==null&&i!==void 0?i:(a=n.props.init)===null||a===void 0?void 0:a.inline)!==null&&u!==void 0?u:!1,n.boundHandlers={},n}return Object.defineProperty(r.prototype,"view",{get:function(){var o,n;return(n=(o=this.elementRef.current)===null||o===void 0?void 0:o.ownerDocument.defaultView)!==null&&n!==void 0?n:window},enumerable:!1,configurable:!0}),r.prototype.componentDidUpdate=function(o){var n=this,i,a;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(o),this.editor.initialized)){if(this.currentContent=(i=this.currentContent)!==null&&i!==void 0?i:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==o.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var u=this.editor;u.undoManager.transact(function(){var c;if(!n.inline||u.hasFocus())try{c=u.selection.getBookmark(3)}catch{}var l=n.valueCursor;if(u.setContent(n.props.value),!n.inline||u.hasFocus())for(var d=0,f=[c,l];d<f.length;d++){var p=f[d];if(p)try{u.selection.moveToBookmark(p),n.valueCursor=p;break}catch{}}})}if(this.props.disabled!==o.disabled){var s=(a=this.props.disabled)!==null&&a!==void 0?a:!1;x(this.editor,s?"readonly":"design")}}},r.prototype.componentDidMount=function(){var o=this,n,i,a,u,s;if(w(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(i=(n=this.props).onScriptsLoadError)===null||i===void 0||i.call(n,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((a=this.elementRef.current)===null||a===void 0)&&a.ownerDocument){var c=function(){var d,f;(f=(d=o.props).onScriptsLoad)===null||f===void 0||f.call(d),o.initialise()},l=function(d){var f,p;(p=(f=o.props).onScriptsLoadError)===null||p===void 0||p.call(f,d)};nn.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(s=(u=this.props.scriptLoading)===null||u===void 0?void 0:u.delay)!==null&&s!==void 0?s:0,c,l)}},r.prototype.componentWillUnmount=function(){var o=this,n=this.editor;n&&(n.off(this.changeEvents(),this.handleEditorChange),n.off(this.beforeInputEvent(),this.handleBeforeInput),n.off("keypress",this.handleEditorChangeSpecial),n.off("keydown",this.handleBeforeInputSpecial),n.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(i){n.off(i,o.boundHandlers[i])}),this.boundHandlers={},n.remove(),this.editor=void 0)},r.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},r.prototype.changeEvents=function(){var o,n,i,a=(i=(n=(o=w(this.view))===null||o===void 0?void 0:o.Env)===null||n===void 0?void 0:n.browser)===null||i===void 0?void 0:i.isIE();return a?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},r.prototype.beforeInputEvent=function(){return W()?"beforeinput SelectionChange":"SelectionChange"},r.prototype.renderInline=function(){var o=this.props.tagName,n=o===void 0?"div":o;return C.createElement(n,{ref:this.elementRef,id:this.id})},r.prototype.renderIframe=function(){return C.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},r.prototype.getScriptSources=function(){var o,n,i=(o=this.props.scriptLoading)===null||o===void 0?void 0:o.async,a=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:i,defer:a}]:this.props.tinymceScriptSrc.map(function(l){return typeof l=="string"?{src:l,async:i,defer:a}:l});var u=this.props.cloudChannel,s=this.props.apiKey?this.props.apiKey:"no-api-key",c="https://cdn.tiny.cloud/1/".concat(s,"/tinymce/").concat(u,"/tinymce.min.js");return[{src:c,async:i,defer:a}]},r.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},r.prototype.bindHandlers=function(o){var n=this;if(this.editor!==void 0){q(this.editor,o,this.props,this.boundHandlers,function(s){return n.props[s]});var i=function(s){return s.onEditorChange!==void 0||s.value!==void 0},a=i(o),u=i(this.props);!a&&u?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):a&&!u&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},r.propTypes=$,r.defaultProps={cloudChannel:"6"},r}(C.Component);export{sn as E,an as a,on as j};
//# sourceMappingURL=Editor-64e46c8a.js.map
